/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,t){var n=angular.module("ng-ripple",[]);n.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100}),n.directive("ripple",["rippleConfig",function(t){function n(n,i,a){function s(n){function i(){var e=(k-w)/100*10;M=setInterval(function(){k>w?(w+=e,y.css({height:E+w,width:E+w})):clearInterval(M)},50)}function s(){e(window).bind(g.end+" blur",m),l.bind("mouseleave",m)}function m(){e(window).unbind(g.end+" blur",m),l.unbind("mouseleave",m),clearInterval(M),clearInterval(x);var n=k>=w?t.rippleDelay:1;w=k>w?k:w,y.css({height:E+w,width:E+w}),setTimeout(function(){C.css({opacity:0}),y.hasClass("new")&&!f&&c.css("background-color",""),setTimeout(function(){y.remove(),h&&!c.find(".ink").length&&c.css("z-index","-1")},550)},n)}if(-1==o.indexOf(n.timeStamp)){o.push(n.timeStamp);var b=e(n.target);if("undefined"==typeof a.rDisabled&&!l.hasClass("disabled")&&!(b.hasClass("r-noink")||b.parents(".r-noink").length||v&&l.is(v))){h&&c.css("z-index","3");var y=e("<div class='ink'><i></i></div>"),C=y.find("i"),w=0,k=0,x=null;c.find(".ink").removeClass("new"),y.addClass("new"),c.prepend(y);var A="touchstart"!=n.type?n.pageX-c.offset().left:n.originalEvent.touches[0].pageX-c.offset().left,I="touchstart"!=n.type?n.pageY-c.offset().top:n.originalEvent.touches[0].pageY-c.offset().top;f?(A=0,I=0):(y.css({top:I+"px",left:A+"px"}),A=A>c.outerWidth()/2?A-c.outerWidth()/2:c.outerWidth()/2-A,I=I>c.outerHeight()/2?I-c.outerHeight()/2:c.outerHeight()/2-I);var H=Math.max(c.outerWidth(),c.outerHeight()),T=A+I,E=H+T;H-=T;var O=c.outerHeight(),W=c.outerWidth(),D=Math.sqrt(W*W+O*O),k=D-H;k=f?0:k,y.css({height:E+w,width:E+w}),C.css("opacity",0);var F=p||t.rippleOpacity;if(d?C.css("background-color",d):u&&C.css("background-color","rgb(255,255,255)"),!f)if(c.css("background-color","rgba(0,0,0,0.098)"),d){var L=r(d);c.css("background-color","rgba("+L.r+","+L.g+","+L.b+",0.098)")}else u&&c.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){y.addClass("animate")},1),C.css({opacity:F});var M=null;i(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){m()},100):"touchstart"==n.type?(x=setTimeout(function(){m()},1e3),s()):s()}}}var l=null,c=null,u=!1,d=!1,p=null,f=!1,h=!1,v=!1;l=e(i),l.removeClass("ripple"),c=l.children(".ink-content");var g={start:"ontouchstart"in document.documentElement?"touchstart":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup"};i.on("$destroy",function(){l.unbind(g.start,s)}),f=l.hasClass("r-icon"),h=l.hasClass("r-overink"),u="undefined"!=typeof a.rLight,d="undefined"!=typeof a.rColor?a.rColor:!1,p="undefined"!=typeof a.rOpacity?a.rOpacity:null,v="undefined"!=typeof a.rPrevent?a.rPrevent:!1,l.bind(g.start,s)}function r(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function i(t){var n=e(t).html(),r=e("<button></button>");if("ripple"!=e(t).prop("nodeName").toLowerCase()){var i=e(t).clone();e(i).empty(),i[0].className="",e(i).removeClass("ripple"),e(i).removeAttr("ripple"),e(i).removeAttr("data-ripple"),e(i).removeAttr("ng-ripple"),r=e(i)}return r.addClass("ripple-cont"),r.append("<div class='ripple-content'>"+n+"</div>"),r.append("<div class='ink-content'></div>"),r[0].outerHTML}var o=[];return{restrict:"AEC",link:n,template:i,replace:!0}}])}(jQuery,window);