/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,t){var n=angular.module("ngRipple",[]);n.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),n.directive("ripple",["rippleConfig",function(t){function n(n,r,l){function s(n){function r(){var e=(x-P)/100*10;$=setInterval(function(){x>P?(P+=e,T.css({height:N+P,width:N+P})):clearInterval($)},50)}function s(){e(window).on(w.end+" blur",a),e(C).on("mouseleave",a)}function a(){e(window).off("stopAllInk",m),e(window).off("scroll",m),e(window).off("explodeAllInk",a),e(window).off(w.end+" blur",a),e(C).off("mouseleave",a),clearInterval($),clearInterval(D),clearInterval(H);var n=x>=P?t.rippleDelay:1;P=x>P?x:P,T.css({height:N+P,width:N+P}),setTimeout(function(){E.css({opacity:0}),T.hasClass("new")&&!u&&I.css("background-color",""),setTimeout(function(){T.remove(),f&&!I.find(".ink").length&&I.css("display","")},550)},n)}function m(){k=!0,e(window).off("stopAllInk",m),e(window).off("scroll",m),e(window).off("explodeAllInk",a),e(window).off(w.end+" blur scroll",a),C.off("mouseleave",a),clearInterval($),clearInterval(D),clearInterval(H),T.hasClass("new")&&!u&&I.css("background-color",""),T.remove(),f&&!I.find(".ink").length&&I.css("display","")}var k=!1,y=n.timeStamp;if(0==y){var b=new Date;y=b.getTime()}var C=e(n.currentTarget).closest(".ripple-cont"),I=C.children(".ink-content");if(e(C).hasClass("r-childprevent"))return e(C).removeClass("r-childprevent");if(e(C).parents(".ripple-cont").addClass("r-childprevent"),-1==i.indexOf(y)){i.push(y);var A=e(n.target);if("undefined"==typeof l.rDisabled&&!e(C).hasClass("disabled")&&!A.hasClass("r-noink")&&!A.parents(".r-noink").length&&("mousedown"!=n.type&&"touchstart"!=n.type||!A.hasClass("r-noink-hover")&&!A.parents(".r-noink-hover").length)&&("click"!=n.type||g||A.hasClass("r-noink-hover")||A.parents(".r-noink-hover").length)&&!(h&&e(C).is(h)||v&&(e(C).is(v)||0!=e(C).find(v).length)||(e(window).on("stopAllInk",m),e(window).on("explodeAllInk",a),1==k))){f&&I.show(0);var T=e("<div class='ink'><i></i></div>"),E=T.find("i"),P=0,x=0,D=null,H=null;I.find(".ink").removeClass("new"),T.addClass("new"),I.prepend(T);var O="touchstart"!=n.type?n.pageX-I.offset().left:n.originalEvent.touches[0].pageX-I.offset().left,L="touchstart"!=n.type?n.pageY-I.offset().top:n.originalEvent.touches[0].pageY-I.offset().top;if(u?(O=0,L=0):(T.css({top:L+"px",left:O+"px"}),O=O>I.outerWidth()/2?O-I.outerWidth()/2:I.outerWidth()/2-O,L=L>I.outerHeight()/2?L-I.outerHeight()/2:I.outerHeight()/2-L),1!=k){var W=2*O+2*L,F=I.outerHeight(),M=I.outerWidth(),N=Math.sqrt(M*M+F*F),x=W;x=u?0:x,T.css({height:N,width:N}),E.css("opacity",0);var X=p||t.rippleOpacity;if(d?E.css("background-color",d):c&&E.css("background-color","rgb(255,255,255)"),!u)if(I.css("background-color","rgba(0,0,0,0.098)"),d){var Y=o(d);I.css("background-color","rgba("+Y.r+","+Y.g+","+Y.b+",0.098)")}else c&&I.css("background-color","rgba(255,255,255,0.098)");if(setTimeout(function(){1!=k&&T.addClass("animate")},1),1!=k){E.css({opacity:X});var $=null;1!=k&&(r(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){a()},100):"click"==n.type?setTimeout(function(){a()},100):"touchstart"==n.type?(D=setTimeout(function(){a()},1e3),e(window).on("scroll",m),H=setTimeout(function(){e(window).off("scroll",m)},500),s()):s())}}}}}var a=null,c=!1,d=!1,p=null,u=!1,f=!1,h=!1,v=!1,m=!1,g="ontouchstart"in document.documentElement;a=e(r),f=a.hasClass("r-overink"),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:a,mouseEvents:["click","dblclick"]}),a.addClass("ripple"),f&&a.removeAttr("href"),m=a.find(".r-noink-hover").length>0;var w={start:"ontouchstart"in document.documentElement?t.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup dragend"};r.on("$destroy",function(){a.off(w.start,s)}),u=a.hasClass("r-icon"),c="undefined"!=typeof l.rLight,d="undefined"!=typeof l.rColor?l.rColor:!1,p="undefined"!=typeof l.rOpacity?l.rOpacity:null,h="undefined"!=typeof l.rPrevent?l.rPrevent:!1,h="undefined"!=typeof l.rPreventDeep?l.rPreventDeep:!1,a.off(w.start,s),a.on(w.start,s),!m||g&&!t.mobileTouch||(a.find(".r-noink-hover").off("click",s),a.find(".r-noink-hover").on("click",s))}function o(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function r(t){if(e(t).hasClass("ripple-cont")){for(;e(t)[0].attributes.length>0;)e(t)[0].removeAttribute(e(t)[0].attributes[0].name);return t[0].outerHTML}var n=e(t).html(),o=e("<button></button>"),r=t.hasClass("r-overink");if(r){o=e("<div></div>");var i=e("<button></button>")}if("ripple"!=e(t).prop("nodeName").toLowerCase()){var l=e(t).clone();e(l).empty(),l[0].className="",e(l).removeAttr("ripple"),e(l).removeAttr("data-ripple"),e(l).removeAttr("ng-ripple"),r?i=e(l):o=e(l)}return o.addClass("ripple-cont"),r?(i.addClass("ripple-content"),i.html(n),o.append(i)):o.append("<div class='ripple-content'>"+n+"</div>"),o.append("<div class='ink-content'></div>"),o[0].outerHTML}var i=[];return{restrict:"AEC",link:n,template:r,replace:!0}}])}(jQuery,window);