/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,t){var n=angular.module("ng-ripple",[]);n.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),n.directive("ripple",["rippleConfig",function(t){function n(n,o,a){function l(n){function o(){var e=(I-C)/100*10;M=setInterval(function(){I>C?(C+=e,y.css({height:O+C,width:O+C})):clearInterval(M)},50)}function l(){e(window).bind(m.end+" blur",g),s.bind("mouseleave",g)}function g(){e(window).unbind(m.end+" blur",g),s.unbind("mouseleave",g),clearInterval(M),clearInterval(T),clearInterval(x);var n=I>=C?t.rippleDelay:1;C=I>C?I:C,y.css({height:O+C,width:O+C}),setTimeout(function(){k.css({opacity:0}),y.hasClass("new")&&!f&&c.css("background-color",""),setTimeout(function(){y.remove(),v&&!c.find(".ink").length&&c.css("z-index","-1")},550)},n)}function b(){e(window).unbind("scroll",b),e(window).unbind(m.end+" blur scroll",g),s.unbind("mouseleave",g),clearInterval(M),clearInterval(T),clearInterval(x),y.hasClass("new")&&!f&&c.css("background-color",""),y.remove(),v&&!c.find(".ink").length&&c.css("z-index","-1")}if(-1==r.indexOf(n.timeStamp)){r.push(n.timeStamp);var w=e(n.target);if("undefined"==typeof a.rDisabled&&!s.hasClass("disabled")&&!(w.hasClass("r-noink")||w.parents(".r-noink").length||h&&s.is(h))){v&&c.css("z-index","3");var y=e("<div class='ink'><i></i></div>"),k=y.find("i"),C=0,I=0,T=null,x=null;c.find(".ink").removeClass("new"),y.addClass("new"),c.prepend(y);var A="touchstart"!=n.type?n.pageX-c.offset().left:n.originalEvent.touches[0].pageX-c.offset().left,E="touchstart"!=n.type?n.pageY-c.offset().top:n.originalEvent.touches[0].pageY-c.offset().top;f?(A=0,E=0):(y.css({top:E+"px",left:A+"px"}),A=A>c.outerWidth()/2?A-c.outerWidth()/2:c.outerWidth()/2-A,E=E>c.outerHeight()/2?E-c.outerHeight()/2:c.outerHeight()/2-E);var H=Math.max(c.outerWidth(),c.outerHeight()),P=A+E,O=H+P;H-=P;var W=c.outerHeight(),z=c.outerWidth(),D=Math.sqrt(z*z+W*W),I=D-H;I=f?0:I,y.css({height:O+C,width:O+C}),k.css("opacity",0);var F=p||t.rippleOpacity;if(d?k.css("background-color",d):u&&k.css("background-color","rgb(255,255,255)"),!f)if(c.css("background-color","rgba(0,0,0,0.098)"),d){var L=i(d);c.css("background-color","rgba("+L.r+","+L.g+","+L.b+",0.098)")}else u&&c.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){y.addClass("animate")},1),k.css({opacity:F});var M=null;o(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){g()},100):"click"==n.type?setTimeout(function(){g()},200):"touchstart"==n.type?(T=setTimeout(function(){g()},1e3),e(window).bind("scroll",b),x=setTimeout(function(){e(window).unbind("scroll",b)},300),l()):l()}}}var s=null,c=null,u=!1,d=!1,p=null,f=!1,v=!1,h=!1;s=e(o),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:s,mouseEvents:["click","dblclick"]}),s.removeClass("ripple"),s.removeAttr("href"),c=s.children(".ink-content");var m={start:"ontouchstart"in document.documentElement?t.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup"};o.on("$destroy",function(){s.unbind(m.start,l)}),f=s.hasClass("r-icon"),v=s.hasClass("r-overink"),u="undefined"!=typeof a.rLight,d="undefined"!=typeof a.rColor?a.rColor:!1,p="undefined"!=typeof a.rOpacity?a.rOpacity:null,h="undefined"!=typeof a.rPrevent?a.rPrevent:!1,s.bind(m.start,l)}function i(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function o(t){var n=e(t).html(),i=e("<div></div>"),o=e("<button></button>");if("ripple"!=e(t).prop("nodeName").toLowerCase()){var r=e(t).clone();e(r).empty(),r[0].className="",e(r).removeClass("ripple"),e(r).removeAttr("ripple"),e(r).removeAttr("data-ripple"),e(r).removeAttr("ng-ripple"),o=e(r)}return i.addClass("ripple-cont"),o.addClass("ripple-content"),o.html(n),i.append(o),i.append("<div class='ink-content'></div>"),i[0].outerHTML}var r=[];return{restrict:"AEC",link:n,template:o,replace:!0}}])}(jQuery,window);