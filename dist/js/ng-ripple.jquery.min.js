/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,n){var t=angular.module("ngRipple",[]);t.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),t.directive("ripple",["rippleConfig",function(n){function t(t,o,l){function s(t){function s(){var e=(H-x)/100*10;$=setInterval(function(){H>x?(x+=e,T.css({height:N+x,width:N+x})):clearInterval($)},50)}function b(){e(window).bind(g.end+" blur",w),a.bind("mouseleave",w)}function w(){e(window).unbind("stopAllInk",k),e(window).unbind("scroll",k),e(window).unbind("explodeAllInk",w),e(window).unbind(g.end+" blur",w),a.unbind("mouseleave",w),clearInterval($),clearInterval(P),clearInterval(O);var t=H>=x?n.rippleDelay:1;x=H>x?H:x,T.css({height:N+x,width:N+x}),setTimeout(function(){E.css({opacity:0}),T.hasClass("new")&&!f&&d.css("background-color",""),setTimeout(function(){T.remove(),h&&!d.find(".ink").length&&d.css("display","")},550)},t)}function k(){y=!0,e(window).unbind("stopAllInk",k),e(window).unbind("scroll",k),e(window).unbind("explodeAllInk",w),e(window).unbind(g.end+" blur scroll",w),a.unbind("mouseleave",w),clearInterval($),clearInterval(P),clearInterval(O),T.hasClass("new")&&!f&&d.css("background-color",""),T.remove(),h&&!d.find(".ink").length&&d.css("display","")}var y=!1,C=t.timeStamp;if(0==C){var I=new Date;C=I.getTime()}if(e(o).hasClass("r-childprevent"))return e(o).removeClass("r-childprevent");if(e(o).parents(".ripple-cont").addClass("r-childprevent"),-1==r.indexOf(C)){r.push(C);var A=e(t.target);if("undefined"==typeof l.rDisabled&&!a.hasClass("disabled")&&!A.hasClass("r-noink")&&!A.parents(".r-noink").length&&("mousedown"!=t.type&&"touchstart"!=t.type||!A.hasClass("r-noink-hover")&&!A.parents(".r-noink-hover").length)&&("click"!=t.type||m||A.hasClass("r-noink-hover")||A.parents(".r-noink-hover").length)&&!(v&&a.is(v)||(e(window).bind("stopAllInk",k),e(window).bind("explodeAllInk",w),1==y))){h&&d.show(0);var T=e("<div class='ink'><i></i></div>"),E=T.find("i"),x=0,H=0,P=null,O=null;d.find(".ink").removeClass("new"),T.addClass("new"),d.prepend(T);var D="touchstart"!=t.type?t.pageX-d.offset().left:t.originalEvent.touches[0].pageX-d.offset().left,L="touchstart"!=t.type?t.pageY-d.offset().top:t.originalEvent.touches[0].pageY-d.offset().top;if(f?(D=0,L=0):(T.css({top:L+"px",left:D+"px"}),D=D>d.outerWidth()/2?D-d.outerWidth()/2:d.outerWidth()/2-D,L=L>d.outerHeight()/2?L-d.outerHeight()/2:d.outerHeight()/2-L),1!=y){var W=2*D+2*L,F=d.outerHeight(),M=d.outerWidth(),N=Math.sqrt(M*M+F*F),H=W;H=f?0:H,T.css({height:N,width:N}),E.css("opacity",0);var X=p||n.rippleOpacity;if(u?E.css("background-color",u):c&&E.css("background-color","rgb(255,255,255)"),!f)if(d.css("background-color","rgba(0,0,0,0.098)"),u){var Y=i(u);d.css("background-color","rgba("+Y.r+","+Y.g+","+Y.b+",0.098)")}else c&&d.css("background-color","rgba(255,255,255,0.098)");if(setTimeout(function(){1!=y&&T.addClass("animate")},1),1!=y){E.css({opacity:X});var $=null;1!=y&&(s(),"mousedown"==t.type&&1!==t.which?setTimeout(function(){w()},100):"click"==t.type?setTimeout(function(){w()},100):"touchstart"==t.type?(P=setTimeout(function(){w()},1e3),e(window).bind("scroll",k),O=setTimeout(function(){e(window).unbind("scroll",k)},500),b()):b())}}}}}var a=null,d=null,c=!1,u=!1,p=null,f=!1,h=!1,v=!1,b=!1,m="ontouchstart"in document.documentElement;a=e(o),h=a.hasClass("r-overink"),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:a,mouseEvents:["click","dblclick"]}),a.addClass("ripple"),h&&a.removeAttr("href"),d=a.children(".ink-content"),b=a.find(".r-noink-hover").length>0;var g={start:"ontouchstart"in document.documentElement?n.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup dragend"};o.on("$destroy",function(){a.unbind(g.start,s)}),f=a.hasClass("r-icon"),c="undefined"!=typeof l.rLight,u="undefined"!=typeof l.rColor?l.rColor:!1,p="undefined"!=typeof l.rOpacity?l.rOpacity:null,v="undefined"!=typeof l.rPrevent?l.rPrevent:!1,a.unbind(g.start,s),a.bind(g.start,s),!b||m&&!n.mobileTouch||(a.find(".r-noink-hover").unbind("click",s),a.find(".r-noink-hover").bind("click",s))}function i(e){var n=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,t=n.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function o(n){if(e(n).hasClass("ripple-cont")){for(;e(n)[0].attributes.length>0;)e(n)[0].removeAttribute(e(n)[0].attributes[0].name);return n[0].outerHTML}var t=e(n).html(),i=e("<button></button>"),o=n.hasClass("r-overink");if(o){i=e("<div></div>");var r=e("<button></button>")}if("ripple"!=e(n).prop("nodeName").toLowerCase()){var l=e(n).clone();e(l).empty(),l[0].className="",e(l).removeAttr("ripple"),e(l).removeAttr("data-ripple"),e(l).removeAttr("ng-ripple"),o?r=e(l):i=e(l)}return i.addClass("ripple-cont"),o?(r.addClass("ripple-content"),r.html(t),i.append(r)):i.append("<div class='ripple-content'>"+t+"</div>"),i.append("<div class='ink-content'></div>"),i[0].outerHTML}var r=[];return{restrict:"AEC",link:t,template:o,replace:!0}}])}(jQuery,window);