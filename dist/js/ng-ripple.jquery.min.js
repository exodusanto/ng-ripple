/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,n){var t=angular.module("ng-ripple",[]);t.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),t.directive("ripple",["rippleConfig",function(n){function t(t,o,a){function l(t){function o(){var e=(x-A)/100*10;Y=setInterval(function(){x>A?(A+=e,I.css({height:D+A,width:D+A})):clearInterval(Y)},50)}function l(){e(window).bind(m.end+" blur",b),s.bind("mouseleave",b)}function b(){e(window).unbind(m.end+" blur",b),s.unbind("mouseleave",b),clearInterval(Y),clearInterval(E),clearInterval(H);var t=x>=A?n.rippleDelay:1;A=x>A?x:A,I.css({height:D+A,width:D+A}),setTimeout(function(){T.css({opacity:0}),I.hasClass("new")&&!f&&c.css("background-color",""),setTimeout(function(){I.remove(),v&&!c.find(".ink").length&&c.css("z-index","-1")},550)},t)}function g(){w=!0,e(window).unbind("stopAllInk",g),e(window).unbind("scroll",g),e(window).unbind(m.end+" blur scroll",b),s.unbind("mouseleave",b),clearInterval(Y),clearInterval(E),clearInterval(H),I.hasClass("new")&&!f&&c.css("background-color",""),I.remove(),v&&!c.find(".ink").length&&c.css("z-index","-1")}var w=!1,y=t.timeStamp;if(0==y){var k=new Date;y=k.getTime()}if(-1==r.indexOf(y)){r.push(y);var C=e(t.target);if(!("undefined"!=typeof a.rDisabled||s.hasClass("disabled")||C.hasClass("r-noink")||C.parents(".r-noink").length||h&&s.is(h)||(e(window).bind("stopAllInk",g),1==w))){v&&c.css("z-index","3");var I=e("<div class='ink'><i></i></div>"),T=I.find("i"),A=0,x=0,E=null,H=null;c.find(".ink").removeClass("new"),I.addClass("new"),c.prepend(I);var P="touchstart"!=t.type?t.pageX-c.offset().left:t.originalEvent.touches[0].pageX-c.offset().left,O="touchstart"!=t.type?t.pageY-c.offset().top:t.originalEvent.touches[0].pageY-c.offset().top;if(f?(P=0,O=0):(I.css({top:O+"px",left:P+"px"}),P=P>c.outerWidth()/2?P-c.outerWidth()/2:c.outerWidth()/2-P,O=O>c.outerHeight()/2?O-c.outerHeight()/2:c.outerHeight()/2-O),1!=w){var W=Math.max(c.outerWidth(),c.outerHeight()),z=P+O,D=W+z;W-=z;var F=c.outerHeight(),L=c.outerWidth(),M=Math.sqrt(L*L+F*F),x=M-W;x=f?0:x,I.css({height:D+A,width:D+A}),T.css("opacity",0);var N=p||n.rippleOpacity;if(u?T.css("background-color",u):d&&T.css("background-color","rgb(255,255,255)"),!f)if(c.css("background-color","rgba(0,0,0,0.098)"),u){var X=i(u);c.css("background-color","rgba("+X.r+","+X.g+","+X.b+",0.098)")}else d&&c.css("background-color","rgba(255,255,255,0.098)");if(setTimeout(function(){1!=w&&I.addClass("animate")},1),1!=w){T.css({opacity:N});var Y=null;1!=w&&(o(),"mousedown"==t.type&&1!==t.which?setTimeout(function(){b()},100):"click"==t.type?setTimeout(function(){b()},200):"touchstart"==t.type?(E=setTimeout(function(){b()},1e3),e(window).bind("scroll",g),H=setTimeout(function(){e(window).unbind("scroll",g)},300),l()):l())}}}}}var s=null,c=null,d=!1,u=!1,p=null,f=!1,v=!1,h=!1;s=e(o),v=s.hasClass("r-overink"),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:s,mouseEvents:["click","dblclick"]}),s.removeClass("ripple"),v&&s.removeAttr("href"),c=s.children(".ink-content");var m={start:"ontouchstart"in document.documentElement?n.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup"};o.on("$destroy",function(){s.unbind(m.start,l)}),f=s.hasClass("r-icon"),d="undefined"!=typeof a.rLight,u="undefined"!=typeof a.rColor?a.rColor:!1,p="undefined"!=typeof a.rOpacity?a.rOpacity:null,h="undefined"!=typeof a.rPrevent?a.rPrevent:!1,s.bind(m.start,l)}function i(e){var n=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,t=n.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function o(n){var t=e(n).html(),i=e("<button></button>"),o=n.hasClass("r-overink");if(o){i=e("<div></div>");var r=e("<button></button>")}if("ripple"!=e(n).prop("nodeName").toLowerCase()){var a=e(n).clone();e(a).empty(),a[0].className="",e(a).removeClass("ripple"),e(a).removeAttr("ripple"),e(a).removeAttr("data-ripple"),e(a).removeAttr("ng-ripple"),o?r=e(a):i=e(a)}return i.addClass("ripple-cont"),o?(r.addClass("ripple-content"),r.html(t),i.append(r)):i.append("<div class='ripple-content'>"+t+"</div>"),i.append("<div class='ink-content'></div>"),i[0].outerHTML}var r=[];return{restrict:"AEC",link:t,template:o,replace:!0}}])}(jQuery,window);