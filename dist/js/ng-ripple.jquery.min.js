/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,t){var n=angular.module("ng-ripple",[]);n.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),n.directive("ripple",["rippleConfig",function(t){function n(n,r,a){function s(n){function r(){var e=(x-T)/100*10;X=setInterval(function(){x>T?(T+=e,C.css({height:z+T,width:z+T})):clearInterval(X)},50)}function s(){e(window).bind(m.end+" blur",g),l.bind("mouseleave",g)}function g(){e(window).unbind(m.end+" blur",g),l.unbind("mouseleave",g),clearInterval(X),clearInterval(A),clearInterval(E);var n=x>=T?t.rippleDelay:1;T=x>T?x:T,C.css({height:z+T,width:z+T}),setTimeout(function(){I.css({opacity:0}),C.hasClass("new")&&!f&&c.css("background-color",""),setTimeout(function(){C.remove(),v&&!c.find(".ink").length&&c.css("z-index","-1")},550)},n)}function b(){e(window).unbind("scroll",b),e(window).unbind(m.end+" blur scroll",g),l.unbind("mouseleave",g),clearInterval(X),clearInterval(A),clearInterval(E),C.hasClass("new")&&!f&&c.css("background-color",""),C.remove(),v&&!c.find(".ink").length&&c.css("z-index","-1")}var w=n.timeStamp;if(0==w){var y=new Date;w=y.getTime()}if(-1==o.indexOf(w)){o.push(w);var k=e(n.target);if("undefined"==typeof a.rDisabled&&!l.hasClass("disabled")&&!(k.hasClass("r-noink")||k.parents(".r-noink").length||h&&l.is(h))){v&&c.css("z-index","3");var C=e("<div class='ink'><i></i></div>"),I=C.find("i"),T=0,x=0,A=null,E=null;c.find(".ink").removeClass("new"),C.addClass("new"),c.prepend(C);var H="touchstart"!=n.type?n.pageX-c.offset().left:n.originalEvent.touches[0].pageX-c.offset().left,P="touchstart"!=n.type?n.pageY-c.offset().top:n.originalEvent.touches[0].pageY-c.offset().top;f?(H=0,P=0):(C.css({top:P+"px",left:H+"px"}),H=H>c.outerWidth()/2?H-c.outerWidth()/2:c.outerWidth()/2-H,P=P>c.outerHeight()/2?P-c.outerHeight()/2:c.outerHeight()/2-P);var O=Math.max(c.outerWidth(),c.outerHeight()),W=H+P,z=O+W;O-=W;var D=c.outerHeight(),F=c.outerWidth(),L=Math.sqrt(F*F+D*D),x=L-O;x=f?0:x,C.css({height:z+T,width:z+T}),I.css("opacity",0);var M=p||t.rippleOpacity;if(d?I.css("background-color",d):u&&I.css("background-color","rgb(255,255,255)"),!f)if(c.css("background-color","rgba(0,0,0,0.098)"),d){var N=i(d);c.css("background-color","rgba("+N.r+","+N.g+","+N.b+",0.098)")}else u&&c.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){C.addClass("animate")},1),I.css({opacity:M});var X=null;r(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){g()},100):"click"==n.type?setTimeout(function(){g()},200):"touchstart"==n.type?(A=setTimeout(function(){g()},1e3),e(window).bind("scroll",b),E=setTimeout(function(){e(window).unbind("scroll",b)},300),s()):s()}}}var l=null,c=null,u=!1,d=!1,p=null,f=!1,v=!1,h=!1;l=e(r),v=l.hasClass("r-overink"),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:l,mouseEvents:["click","dblclick"]}),l.removeClass("ripple"),v&&l.removeAttr("href"),c=l.children(".ink-content");var m={start:"ontouchstart"in document.documentElement?t.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup"};r.on("$destroy",function(){l.unbind(m.start,s)}),f=l.hasClass("r-icon"),u="undefined"!=typeof a.rLight,d="undefined"!=typeof a.rColor?a.rColor:!1,p="undefined"!=typeof a.rOpacity?a.rOpacity:null,h="undefined"!=typeof a.rPrevent?a.rPrevent:!1,l.bind(m.start,s)}function i(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function r(t){var n=e(t).html(),i=e("<button></button>"),r=t.hasClass("r-overink");if(r){i=e("<div></div>");var o=e("<button></button>")}if("ripple"!=e(t).prop("nodeName").toLowerCase()){var a=e(t).clone();e(a).empty(),a[0].className="",e(a).removeClass("ripple"),e(a).removeAttr("ripple"),e(a).removeAttr("data-ripple"),e(a).removeAttr("ng-ripple"),r?o=e(a):i=e(a)}return i.addClass("ripple-cont"),r?(o.addClass("ripple-content"),o.html(n),i.append(o)):i.append("<div class='ripple-content'>"+n+"</div>"),i.append("<div class='ink-content'></div>"),i[0].outerHTML}var o=[];return{restrict:"AEC",link:n,template:r,replace:!0}}])}(jQuery,window);