/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,n){var t=angular.module("ngRipple",[]);t.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),t.directive("ripple",["rippleConfig",function(n){function t(t,r,s){function l(t){function l(){var e=(H-E)/100*10;Y=setInterval(function(){H>E?(E+=e,A.css({height:M+E,width:M+E})):clearInterval(Y)},50)}function m(){e(window).bind(b.end+" blur",g),a.bind("mouseleave",g)}function g(){e(window).unbind("stopAllInk",w),e(window).unbind("scroll",w),e(window).unbind(b.end+" blur",g),a.unbind("mouseleave",g),clearInterval(Y),clearInterval(P),clearInterval(O);var t=H>=E?n.rippleDelay:1;E=H>E?H:E,A.css({height:M+E,width:M+E}),setTimeout(function(){T.css({opacity:0}),A.hasClass("new")&&!f&&c.css("background-color",""),setTimeout(function(){A.remove(),v&&!c.find(".ink").length&&c.css("display","")},550)},t)}function w(){y=!0,e(window).unbind("stopAllInk",w),e(window).unbind("scroll",w),e(window).unbind(b.end+" blur scroll",g),a.unbind("mouseleave",g),clearInterval(Y),clearInterval(P),clearInterval(O),A.hasClass("new")&&!f&&c.css("background-color",""),A.remove(),v&&!c.find(".ink").length&&c.css("display","")}var y=!1,k=t.timeStamp;if(0==k){var C=new Date;k=C.getTime()}if(e(r).hasClass("r-childprevent"))return e(r).removeClass("r-childprevent");if(e(r).parents(".ripple-cont").addClass("r-childprevent"),-1==o.indexOf(k)){o.push(k);var I=e(t.target);if(!("undefined"!=typeof s.rDisabled||a.hasClass("disabled")||I.hasClass("r-noink")||I.parents(".r-noink").length||h&&a.is(h)||(e(window).bind("stopAllInk",w),1==y))){v&&c.show(0);var A=e("<div class='ink'><i></i></div>"),T=A.find("i"),E=0,H=0,P=null,O=null;c.find(".ink").removeClass("new"),A.addClass("new"),c.prepend(A);var x="touchstart"!=t.type?t.pageX-c.offset().left:t.originalEvent.touches[0].pageX-c.offset().left,D="touchstart"!=t.type?t.pageY-c.offset().top:t.originalEvent.touches[0].pageY-c.offset().top;if(f?(x=0,D=0):(A.css({top:D+"px",left:x+"px"}),x=x>c.outerWidth()/2?x-c.outerWidth()/2:c.outerWidth()/2-x,D=D>c.outerHeight()/2?D-c.outerHeight()/2:c.outerHeight()/2-D),1!=y){var L=2*x+2*D,W=c.outerHeight(),F=c.outerWidth(),M=Math.sqrt(F*F+W*W),H=L;H=f?0:H,A.css({height:M,width:M}),T.css("opacity",0);var N=p||n.rippleOpacity;if(u?T.css("background-color",u):d&&T.css("background-color","rgb(255,255,255)"),!f)if(c.css("background-color","rgba(0,0,0,0.098)"),u){var X=i(u);c.css("background-color","rgba("+X.r+","+X.g+","+X.b+",0.098)")}else d&&c.css("background-color","rgba(255,255,255,0.098)");if(setTimeout(function(){1!=y&&A.addClass("animate")},1),1!=y){T.css({opacity:N});var Y=null;1!=y&&(l(),"mousedown"==t.type&&1!==t.which?setTimeout(function(){g()},100):"click"==t.type?setTimeout(function(){g()},300):"touchstart"==t.type?(P=setTimeout(function(){g()},1e3),e(window).bind("scroll",w),O=setTimeout(function(){e(window).unbind("scroll",w)},500),m()):m())}}}}}var a=null,c=null,d=!1,u=!1,p=null,f=!1,v=!1,h=!1;a=e(r),v=a.hasClass("r-overink"),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:a,mouseEvents:["click","dblclick"]}),a.addClass("ripple"),v&&a.removeAttr("href"),c=a.children(".ink-content");var b={start:"ontouchstart"in document.documentElement?n.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup dragend"};r.on("$destroy",function(){a.unbind(b.start,l)}),f=a.hasClass("r-icon"),d="undefined"!=typeof s.rLight,u="undefined"!=typeof s.rColor?s.rColor:!1,p="undefined"!=typeof s.rOpacity?s.rOpacity:null,h="undefined"!=typeof s.rPrevent?s.rPrevent:!1,a.unbind(b.start,l),a.bind(b.start,l)}function i(e){var n=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,t=n.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function r(n){if(e(n).hasClass("ripple-cont")){for(;e(n)[0].attributes.length>0;)e(n)[0].removeAttribute(e(n)[0].attributes[0].name);return n[0].outerHTML}var t=e(n).html(),i=e("<button></button>"),r=n.hasClass("r-overink");if(r){i=e("<div></div>");var o=e("<button></button>")}if("ripple"!=e(n).prop("nodeName").toLowerCase()){var s=e(n).clone();e(s).empty(),s[0].className="",e(s).removeAttr("ripple"),e(s).removeAttr("data-ripple"),e(s).removeAttr("ng-ripple"),r?o=e(s):i=e(s)}return i.addClass("ripple-cont"),r?(o.addClass("ripple-content"),o.html(t),i.append(o)):i.append("<div class='ripple-content'>"+t+"</div>"),i.append("<div class='ink-content'></div>"),i[0].outerHTML}var o=[];return{restrict:"AEC",link:t,template:r,replace:!0}}])}(jQuery,window);