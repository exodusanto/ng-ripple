/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e,t){var n=angular.module("ngRipple",[]);n.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),n.directive("ripple",["rippleConfig",function(t){function n(n,r,l){function s(t,n){return 0==n?!1:e(t).parent().is(g)?!0:s(e(t).parent(),n-1)}function a(n){function r(){var e=(O-H)/100*10;z=setInterval(function(){O>H?(H+=e,E.css({height:$+H,width:$+H})):clearInterval(z)},50)}function a(){e(window).on(b.end+" blur",c),e(A).on("mouseleave",c)}function c(){e(window).off("stopAllInk",k),e(window).off("scroll",k),e(window).off("explodeAllInk",c),e(window).off(b.end+" blur",c),e(A).off("mouseleave",c),clearInterval(z),clearInterval(L),clearInterval(W);var n=O>=H?t.rippleDelay:1;H=O>H?O:H,E.css({height:$+H,width:$+H}),setTimeout(function(){x.css({opacity:0}),E.hasClass("new")&&!f&&T.css("background-color",""),setTimeout(function(){E.remove(),v&&!T.find(".ink").length&&T.css("display","")},550)},n)}function k(){C=!0,e(window).off("stopAllInk",k),e(window).off("scroll",k),e(window).off("explodeAllInk",c),e(window).off(b.end+" blur scroll",c),A.off("mouseleave",c),clearInterval(z),clearInterval(L),clearInterval(W),E.hasClass("new")&&!f&&T.css("background-color",""),E.remove(),v&&!T.find(".ink").length&&T.css("display","")}var C=!1,I=n.timeStamp;if(0==I){var P=new Date;I=P.getTime()}var A=e(n.currentTarget).closest(".ripple-cont"),T=A.children(".ink-content");if(e(A).hasClass("r-childprevent"))return e(A).removeClass("r-childprevent");if(e(A).parents(".ripple-cont").addClass("r-childprevent"),-1==i.indexOf(I)){i.push(I);var D=e(n.target);if("undefined"==typeof l.rDisabled&&!e(A).hasClass("disabled")&&!D.hasClass("r-noink")&&!D.parents(".r-noink").length&&("mousedown"!=n.type&&"touchstart"!=n.type||!D.hasClass("r-noink-hover")&&!D.parents(".r-noink-hover").length)&&("click"!=n.type||y||D.hasClass("r-noink-hover")||D.parents(".r-noink-hover").length)&&!(h&&e(A).is(h)||m&&(e(A).is(m)||0!=e(A).find(m).length)||g&&s(A,w)||(e(window).on("stopAllInk",k),e(window).on("explodeAllInk",c),1==C))){v&&T.show(0);var E=e("<div class='ink'><i></i></div>"),x=E.find("i"),H=0,O=0,L=null,W=null;T.find(".ink").removeClass("new"),E.addClass("new"),T.prepend(E);var F="touchstart"!=n.type?n.pageX-T.offset().left:n.originalEvent.touches[0].pageX-T.offset().left,M="touchstart"!=n.type?n.pageY-T.offset().top:n.originalEvent.touches[0].pageY-T.offset().top;if(f?(F=0,M=0):(E.css({top:M+"px",left:F+"px"}),F=F>T.outerWidth()/2?F-T.outerWidth()/2:T.outerWidth()/2-F,M=M>T.outerHeight()/2?M-T.outerHeight()/2:T.outerHeight()/2-M),1!=C){var N=2*F+2*M,X=T.outerHeight(),Y=T.outerWidth(),$=Math.sqrt(Y*Y+X*X),O=N;O=f?0:O,E.css({height:$,width:$}),x.css("opacity",0);var j=u||t.rippleOpacity;if(p?x.css("background-color",p):d&&x.css("background-color","rgb(255,255,255)"),!f)if(T.css("background-color","rgba(0,0,0,0.098)"),p){var q=o(p);T.css("background-color","rgba("+q.r+","+q.g+","+q.b+",0.098)")}else d&&T.css("background-color","rgba(255,255,255,0.098)");if(setTimeout(function(){1!=C&&E.addClass("animate")},1),1!=C){x.css({opacity:j});var z=null;1!=C&&(r(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){c()},100):"click"==n.type?setTimeout(function(){c()},100):"touchstart"==n.type?(L=setTimeout(function(){c()},1e3),e(window).on("scroll",k),W=setTimeout(function(){e(window).off("scroll",k)},500),a()):a())}}}}}var c=null,d=!1,p=!1,u=null,f=!1,v=!1,h=!1,m=!1,g=!1,w=1,k=!1,y="ontouchstart"in document.documentElement;c=e(r),v=c.hasClass("r-overink"),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:c,mouseEvents:["click","dblclick"]}),c.addClass("ripple"),v&&c.removeAttr("href"),k=c.find(".r-noink-hover").length>0;var b={start:"ontouchstart"in document.documentElement?t.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup dragend"};r.on("$destroy",function(){c.off(b.start,a)}),f=c.hasClass("r-icon"),d="undefined"!=typeof l.rLight,p="undefined"!=typeof l.rColor?l.rColor:!1,u="undefined"!=typeof l.rOpacity?l.rOpacity:null,h="undefined"!=typeof l.rPrevent?l.rPrevent:!1,rPreventDeep="undefined"!=typeof l.rPreventDeep?l.rPreventDeep:!1,g="undefined"!=typeof l.rPreventParent?l.rPreventParent:!1,w="undefined"!=typeof l.rPreventParentDeep?l.rPreventParentDeep:1,c.off(b.start,a),c.on(b.start,a),!k||y&&!t.mobileTouch||(c.find(".r-noink-hover").off("click",a),c.find(".r-noink-hover").on("click",a))}function o(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function r(t){if(e(t).hasClass("ripple-cont")){for(;e(t)[0].attributes.length>0;)e(t)[0].removeAttribute(e(t)[0].attributes[0].name);return t[0].outerHTML}var n=e(t).html(),o=e("<button></button>"),r=t.hasClass("r-overink");if(r){o=e("<div></div>");var i=e("<button></button>")}if("ripple"!=e(t).prop("nodeName").toLowerCase()){var l=e(t).clone();e(l).empty(),l[0].className="",e(l).removeAttr("ripple"),e(l).removeAttr("data-ripple"),e(l).removeAttr("ng-ripple"),r?i=e(l):o=e(l)}return o.addClass("ripple-cont"),r?(i.addClass("ripple-content"),i.html(n),o.append(i)):o.append("<div class='ripple-content'>"+n+"</div>"),o.append("<div class='ink-content'></div>"),o[0].outerHTML}var i=[];return{restrict:"AEC",link:n,template:r,replace:!0}}])}(jQuery,window);