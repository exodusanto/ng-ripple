/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e){var t=angular.module("ngRipple",[]);t.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),t.directive("ripple",["rippleConfig",function(e){function t(t,p,f){function m(t){function m(){var e=(I-N)/100*10;F=setInterval(function(){I>N?(N+=e,C.style.height=O+N+"px",C.style.width=O+N+"px"):clearInterval(F)},50)}function E(){a(window,"mouseup blur touchend",T),a(p[0],"mouseleave",T)}function T(){c(window,L.end+" blur",T),c(p[0],"mouseleave",T),clearInterval(F);var t=I>=N?e.rippleDelay:1;N=I>N?I:N,C.style.height=O+N+"px",C.style.width=O+N+"px",setTimeout(function(){H.style.opacity=0,new RegExp("new").test(C.className)&&!w&&(v.style.backgroundColor=""),setTimeout(function(){C.remove(),b&&!v.querySelectorAll(".ink").length&&(v.style.display="")},550)},t)}function A(){blockedAll=!0,c(window,"stopAllInk",A),c(window,"scroll",A),c(window,L.end+" blur scroll",T),c(p[0],"mouseleave",T),clearInterval(F),clearInterval(longTouch),clearInterval(scrollTouch),new RegExp("new").test(C.className)&&!w&&(v.style.backgroundColor=""),C.remove(),b&&!v.querySelectorAll(".ink").length&&(v.style.display="")}if(t.preventDefault(),-1==d.indexOf(t.timeStamp)){d.push(t.timeStamp);var x=$(t.target);if("undefined"==typeof f.rDisabled&&!i(p,"disabled")&&!(i(x,"r-noink")||o(x,"r-noink").length||k&&n(p[0],k))){a(window,"stopAllInk",A),b&&(v.style.display="block");var C=document.createElement("div"),H="<i></i>",N=0,I=0;C.innerHTML=H,H=C.querySelectorAll(":scope > i")[0],r(C,"ink"),l(v.querySelectorAll(".ink"),"new"),r(C,"new"),v.insertBefore(C,v.firstChild);var M="touchstart"!=t.type?t.pageX-s(v).left:t.originalEvent.touches[0].pageX-s(v).left,R="touchstart"!=t.type?t.pageY-s(v).top:t.originalEvent.touches[0].pageY-s(v).top;w?(M=0,R=0):(C.style.top=R+"px",C.style.left=M+"px",M=M>v.offsetWidth/2?M-v.offsetWidth/2:v.offsetWidth/2-M,R=R>v.offsetHeight/2?R-v.offsetHeight/2:v.offsetHeight/2-R);var S=2*M+2*R,q=v.offsetHeight,P=v.offsetWidth,O=Math.sqrt(P*P+q*q),I=S;I=w?0:I,C.style.height=O+"px",C.style.width=O+"px";var D=h||e.rippleOpacity;if(H.style.opacity=0,g?H.style.backgroundColor=g:y&&(H.style.backgroundColor="rgb(255,255,255)"),!w)if(v.style.backgroundColor="rgba(0,0,0,0.098)",g){var W=u(g);v.style.backgroundColor="rgba("+W.r+","+W.g+","+W.b+",0.098)"}else y&&(v.style.backgroundColor="rgba(255,255,255,0.098)");setTimeout(function(){r(C,"animate")},1),H.style.opacity=D;var F=null;m(),"mousedown"==t.type&&1!==t.which?setTimeout(function(){T()},100):"click"==t.type?setTimeout(function(){T()},300):"touchstart"==t.type?(longTouch=setTimeout(function(){T()},1e3),a(window,"scroll",A),scrollTouch=setTimeout(function(){c(window,"scroll",A)},500),E()):E()}}}var v=null,y=!1,g=!1,h=null,w=!1,b=!1,k=!1;"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:p,mouseEvents:["click","dblclick"]}),r(p,"ripple"),v=p[0].querySelectorAll(":scope >.ink-content")[0];var L={start:"ontouchstart"in document.documentElement?e.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup dragend"};p.on("$destroy",function(){c(p[0],"mousedown touchstart",m)}),w=i(p,"r-icon"),b=i(p,"r-overink"),y="undefined"!=typeof f.rLight,g="undefined"!=typeof f.rColor?f.rColor:!1,h="undefined"!=typeof f.rOpacity?f.rOpacity:null,k="undefined"!=typeof f.rPrevent?f.rPrevent:!1,a(p[0],"mousedown touchstart",m)}function n(e,t){var n=document.querySelectorAll(t),o=!1;return n.forEach(function(t,n){e===t&&(o=!0)}),o}function o(e,t){for(var n=[],o=e[0].parentElement;null!==o;){var r=o;new RegExp(t).test(r.className)&&n.push(r),o=r.parentNode}return n}function r(e,t){var n="undefined"!=typeof e.length?e.length>0:!!e&&e!=[];n&&e!=[]&&(Array.isArray(e)?e.forEach(function(e){e.classList?e.classList.add(t):e.className+=" "+t}):e.classList?e.classList.add(t):e.className+=" "+t)}function l(e,t){var n="undefined"!=typeof e.length?e.length>0:!!e&&e!=[];n&&(Array.isArray(e)?e.forEach(function(e){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t))}):(e=e[0],e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t))))}function i(e,t){return e[0].classList?e[0].classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e[0].className)}function s(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}function a(e,t,n){for(var o=t.split(" "),r=0,l=o.length;l>r;r++)e.addEventListener(o[r],n,!1)}function c(e,t,n){for(var o=t.split(" "),r=0,l=o.length;l>r;r++)e.removeEventListener(o[r],n,!1)}function u(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function p(e){if(i(e,"ripple-cont")){for(;e[0].attributes.length>0;)e[0].removeAttribute(e[0].attributes[0].name);return e[0].outerHTML}var t=e[0].innerHTML,n=document.createElement("button"),o=i(e,"r-overink");if(o){n=document.createElement("div");var l=document.createElement("button")}if("ripple"!=e.prop("nodeName").toLowerCase()){var s=e[0].cloneNode(!0);s.innerHTML="",s.className="",s.removeAttribute("ripple"),s.removeAttribute("data-ripple"),s.removeAttribute("ng-ripple"),o?l=s:n=s}return r(n,"ripple-cont"),o?(r(l,"ripple-content"),l.innerHTML=t,n.innerHTML=l.outerHTML):n.innerHTML+="<div class='ripple-content'>"+t+"</div>",n.innerHTML+="<div class='ink-content'></div>",n.outerHTML}var d=[];return{restrict:"AEC",link:t,template:p,replace:!0}}])}(window);