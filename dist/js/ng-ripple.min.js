/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e){var t=angular.module("ngRipple",[]);t.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),t.directive("ripple",["rippleConfig",function(e){function t(t,p,f){function v(t){function v(){var e=(R-M)/100*10;z=setInterval(function(){R>M?(M+=e,N.style.height=B+M+"px",N.style.width=B+M+"px"):clearInterval(z)},50)}function E(){a(window,"mouseup blur touchend",A),a(p[0],"mouseleave",A)}function A(){c(window,"stopAllInk",T),c(window,"scroll",T),c(window,L.end+" blur",A),c(p[0],"mouseleave",A),clearInterval(z);var t=R>=M?e.rippleDelay:1;M=R>M?R:M,N.style.height=B+M+"px",N.style.width=B+M+"px",setTimeout(function(){I.style.opacity=0,new RegExp("new").test(N.className)&&!w&&(m.style.backgroundColor=""),setTimeout(function(){N.remove(),b&&!m.querySelectorAll(".ink").length&&(m.style.display="")},550)},t)}function T(){c(window,"stopAllInk",T),c(window,"scroll",T),c(window,L.end+" blur scroll",A),c(p[0],"mouseleave",A),clearInterval(z),clearInterval(q),clearInterval(S),new RegExp("new").test(N.className)&&!w&&(m.style.backgroundColor=""),N.remove(),b&&!m.querySelectorAll(".ink").length&&(m.style.display="")}var x=t.timeStamp;if(0==x){var C=new Date;x=C.getTime()}if(i(p,"r-childprevent"))return l(p,"r-childprevent");if(r(o(p,"ripple-cont"),"r-childprevent"),-1==d.indexOf(x)){d.push(x);var H=$(t.target);if("undefined"==typeof f.rDisabled&&!i(p,"disabled")&&!(i(H,"r-noink")||o(H,"r-noink").length||k&&n(p[0],k))){a(window,"stopAllInk",T),b&&(m.style.display="block");var N=document.createElement("div"),I="<i></i>",M=0,R=0,q=null,S=null;N.innerHTML=I,I=N.querySelectorAll(":scope > i")[0],r(N,"ink"),l(m.querySelectorAll(".ink"),"new"),r(N,"new"),m.insertBefore(N,m.firstChild);var P="touchstart"!=t.type?t.pageX-s(m).left:t.originalEvent.touches[0].pageX-s(m).left,O="touchstart"!=t.type?t.pageY-s(m).top:t.originalEvent.touches[0].pageY-s(m).top;w?(P=0,O=0):(N.style.top=O+"px",N.style.left=P+"px",P=P>m.offsetWidth/2?P-m.offsetWidth/2:m.offsetWidth/2-P,O=O>m.offsetHeight/2?O-m.offsetHeight/2:m.offsetHeight/2-O);var D=2*P+2*O,W=m.offsetHeight,F=m.offsetWidth,B=Math.sqrt(F*F+W*W),R=D;R=w?0:R,N.style.height=B+"px",N.style.width=B+"px";var X=h||e.rippleOpacity;if(I.style.opacity=0,g?I.style.backgroundColor=g:y&&(I.style.backgroundColor="rgb(255,255,255)"),!w)if(m.style.backgroundColor="rgba(0,0,0,0.098)",g){var Y=u(g);m.style.backgroundColor="rgba("+Y.r+","+Y.g+","+Y.b+",0.098)"}else y&&(m.style.backgroundColor="rgba(255,255,255,0.098)");setTimeout(function(){r(N,"animate")},1),I.style.opacity=X;var z=null;v(),"mousedown"==t.type&&1!==t.which?setTimeout(function(){A()},100):"click"==t.type?setTimeout(function(){A()},300):"touchstart"==t.type?(q=setTimeout(function(){A()},1e3),a(window,"scroll",T),S=setTimeout(function(){c(window,"scroll",T)},500),E()):E()}}}var m=null,y=!1,g=!1,h=null,w=!1,b=!1,k=!1;"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:p,mouseEvents:["click","dblclick"]}),r(p,"ripple"),m=p[0].querySelectorAll(":scope >.ink-content")[0];var L={start:"ontouchstart"in document.documentElement?e.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup dragend"};p.on("$destroy",function(){c(p[0],"mousedown touchstart",v)}),w=i(p,"r-icon"),b=i(p,"r-overink"),y="undefined"!=typeof f.rLight,g="undefined"!=typeof f.rColor?f.rColor:!1,h="undefined"!=typeof f.rOpacity?f.rOpacity:null,k="undefined"!=typeof f.rPrevent?f.rPrevent:!1,a(p[0],"mousedown touchstart",v)}function n(e,t){var n=document.querySelectorAll(t),o=!1;return n.forEach(function(t,n){e===t&&(o=!0)}),o}function o(e,t){for(var n=[],o=e[0].parentElement;null!==o;){var r=o;new RegExp(t).test(r.className)&&n.push(r),o=r.parentNode}return n}function r(e,t){var n="undefined"!=typeof e.length?e.length>0:!!e&&e!=[];n&&e!=[]&&(Array.isArray(e)?e.forEach(function(e){e.classList?e.classList.add(t):e.className+=" "+t}):e.classList?e.classList.add(t):e.className+=" "+t)}function l(e,t){var n="undefined"!=typeof e.length?e.length>0:!!e&&e!=[];n&&(Array.isArray(e)?e.forEach(function(e){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t))}):(e=e[0],e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t))))}function i(e,t){return e[0].classList?e[0].classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e[0].className)}function s(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}function a(e,t,n){for(var o=t.split(" "),r=0,l=o.length;l>r;r++)console.log(o[r]),e.addEventListener(o[r],n,!1)}function c(e,t,n){for(var o=t.split(" "),r=0,l=o.length;l>r;r++)e.removeEventListener(o[r],n,!1)}function u(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function p(e){if(i(e,"ripple-cont")){for(;e[0].attributes.length>0;)e[0].removeAttribute(e[0].attributes[0].name);return e[0].outerHTML}var t=e[0].innerHTML,n=document.createElement("button"),o=i(e,"r-overink");if(o){n=document.createElement("div");var l=document.createElement("button")}if("ripple"!=e.prop("nodeName").toLowerCase()){var s=e[0].cloneNode(!0);s.innerHTML="",s.className="",s.removeAttribute("ripple"),s.removeAttribute("data-ripple"),s.removeAttribute("ng-ripple"),o?l=s:n=s}return r(n,"ripple-cont"),o?(r(l,"ripple-content"),l.innerHTML=t,n.innerHTML=l.outerHTML):n.innerHTML+="<div class='ripple-content'>"+t+"</div>",n.innerHTML+="<div class='ink-content'></div>",n.outerHTML}var d=[];return{restrict:"AEC",link:t,template:p,replace:!0}}])}(window);