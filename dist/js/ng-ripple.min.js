/*!
* Author: Antonio Dal Sie
* Name: ng-ripple
* Description: Material ripple effects for angularjs
*/
!function(e){var t=angular.module("ngRipple",[]);t.constant("rippleConfig",{rippleOpacity:.2,rippleDelay:100,mobileTouch:!1}),t.directive("ripple",["rippleConfig",function(e){function t(t,p,f){function v(t){function p(){var e=(S-q)/100*10;z=setInterval(function(){S>q?(q+=e,I.style.height=B+q+"px",I.style.width=B+q+"px"):clearInterval(z)},50)}function v(){a(window,"mouseup blur touchend",b),a(C,"mouseleave",b)}function b(){s(window,"stopAllInk",T),s(window,"scroll",T),s(window,L.end+" blur",b),s(C,"mouseleave",b),clearInterval(z);var t=S>=q?e.rippleDelay:1;q=S>q?S:q,I.style.height=B+q+"px",I.style.width=B+q+"px",setTimeout(function(){M.style.opacity=0,new RegExp("new").test(I.className)&&!g&&(H.style.backgroundColor=""),setTimeout(function(){I.remove(),w&&!H.querySelectorAll(".ink").length&&(H.style.display="")},550)},t)}function T(){s(window,"stopAllInk",T),s(window,"scroll",T),s(window,L.end+" blur scroll",b),s(C,"mouseleave",b),clearInterval(z),clearInterval(R),clearInterval(P),new RegExp("new").test(I.className)&&!g&&(H.style.backgroundColor=""),I.remove(),w&&!H.querySelectorAll(".ink").length&&(H.style.display="")}var A=t.timeStamp;if(0==A){var x=new Date;A=x.getTime()}var C=t.currentTarget.closest(".ripple-cont"),H=C.querySelector(":scope > .ink-content");if(i(C,"r-childprevent"))return l(C,"r-childprevent");if(o(r(C,"ripple-cont"),"r-childprevent"),-1==d.indexOf(A)){d.push(A);var N=t.target;if("undefined"==typeof f.rDisabled&&!i(C,"disabled")&&!i(N,"r-noink")&&!r(N,"r-noink").length&&("mousedown"!=t.type&&"touchstart"!=t.type||!i(N,"r-noink-hover")&&!r(N,"r-noink-hover").length)&&("click"!=t.type||E||i(N,"r-noink-hover")||r(N,".r-noink-hover").length)&&(!k||!n(C,k))){a(window,"stopAllInk",T),w&&(H.style.display="block");var I=document.createElement("div"),M="<i></i>",q=0,S=0,R=null,P=null;I.innerHTML=M,M=I.querySelectorAll(":scope > i")[0],o(I,"ink"),l(H.querySelectorAll(".ink"),"new"),o(I,"new"),H.insertBefore(I,H.firstChild);var O="touchstart"!=t.type?t.pageX-c(H).left:t.originalEvent.touches[0].pageX-c(H).left,D="touchstart"!=t.type?t.pageY-c(H).top:t.originalEvent.touches[0].pageY-c(H).top;g?(O=0,D=0):(I.style.top=D+"px",I.style.left=O+"px",O=O>H.offsetWidth/2?O-H.offsetWidth/2:H.offsetWidth/2-O,D=D>H.offsetHeight/2?D-H.offsetHeight/2:H.offsetHeight/2-D);var W=2*O+2*D,F=H.offsetHeight,$=H.offsetWidth,B=Math.sqrt($*$+F*F),S=W;S=g?0:S,I.style.height=B+"px",I.style.width=B+"px";var X=y||e.rippleOpacity;if(M.style.opacity=0,h?M.style.backgroundColor=h:m&&(M.style.backgroundColor="rgb(255,255,255)"),!g)if(H.style.backgroundColor="rgba(0,0,0,0.098)",h){var Y=u(h);H.style.backgroundColor="rgba("+Y.r+","+Y.g+","+Y.b+",0.098)"}else m&&(H.style.backgroundColor="rgba(255,255,255,0.098)");setTimeout(function(){o(I,"animate")},1),M.style.opacity=X;var z=null;p(),"mousedown"==t.type&&1!==t.which?setTimeout(function(){b()},100):"click"==t.type?setTimeout(function(){b()},300):"touchstart"==t.type?(R=setTimeout(function(){b()},1e3),a(window,"scroll",T),P=setTimeout(function(){s(window,"scroll",T)},500),v()):v()}}}var m=!1,h=!1,y=null,g=!1,w=!1,k=!1,b=!1,E="ontouchstart"in document.documentElement;"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:p,mouseEvents:["click","dblclick"]}),o(p,"ripple"),b=p[0].querySelectorAll(".r-noink-hover").length>0;var L={start:"ontouchstart"in document.documentElement?e.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup dragend"};p.on("$destroy",function(){s(p[0],"mousedown touchstart",v)}),g=i(p[0],"r-icon"),w=i(p[0],"r-overink"),m="undefined"!=typeof f.rLight,h="undefined"!=typeof f.rColor?f.rColor:!1,y="undefined"!=typeof f.rOpacity?f.rOpacity:null,k="undefined"!=typeof f.rPrevent?f.rPrevent:!1,s(p[0],L.start,v),a(p[0],L.start,v),!b||E&&!e.mobileTouch||[].forEach.call(p[0].querySelectorAll(".r-noink-hover"),function(e){s(e,"click",v),a(e,"click",v)})}function n(e,t){var n=document.querySelectorAll(t),r=!1;return n.forEach(function(t,n){e===t&&(r=!0)}),r}function r(e,t){for(var n=[],r=e.parentElement;null!==r;){var o=r;new RegExp(t).test(o.className)&&n.push(o),r=o.parentNode}return n}function o(e,t){var n="undefined"!=typeof e.length?e.length>0:!!e&&e!=[];n&&e!=[]&&(Array.isArray(e)?e.forEach(function(e){e.classList?e.classList.add(t):e.className+=" "+t}):e.classList?e.classList.add(t):e.className+=" "+t)}function l(e,t){var n="undefined"!=typeof e.length?e.length>0:!!e&&e!=[];n&&(Array.isArray(e)?e.forEach(function(e){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t))}):(e=e[0],e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t))))}function i(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function c(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}function a(e,t,n){for(var r=t.split(" "),o=0,l=r.length;l>o;o++)e.addEventListener(r[o],n,!1)}function s(e,t,n){for(var r=t.split(" "),o=0,l=r.length;l>o;o++)e.removeEventListener(r[o],n,!1)}function u(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function p(e){if(i(e[0],"ripple-cont")){for(;e[0].attributes.length>0;)e[0].removeAttribute(e[0].attributes[0].name);return e[0].outerHTML}var t=e[0].innerHTML,n=document.createElement("button"),r=i(e[0],"r-overink");if(r){n=document.createElement("div");var l=document.createElement("button")}if("ripple"!=e.prop("nodeName").toLowerCase()){var c=e[0].cloneNode(!0);c.innerHTML="",c.className="",c.removeAttribute("ripple"),c.removeAttribute("data-ripple"),c.removeAttribute("ng-ripple"),r?l=c:n=c}return o(n,"ripple-cont"),r?(o(l,"ripple-content"),l.innerHTML=t,n.innerHTML=l.outerHTML):n.innerHTML+="<div class='ripple-content'>"+t+"</div>",n.innerHTML+="<div class='ink-content'></div>",n.outerHTML}var d=[];return{restrict:"AEC",link:t,template:p,replace:!0}}])}(window);